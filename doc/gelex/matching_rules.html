<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>Gelex: Matching Rules</title>
</head>

<body bgcolor="#FFFFFF">

<h1>Matching Rules</h1>

<p>When the generated scanner is run, it analyzes its input
looking for strings which match any of its patterns. If it finds
more than one match, it takes the one matching the most text (for
trailing context rules, this includes the length of the trailing
part, even though it will then be returned to the input). If it
finds two or more matches of the same length, the rule listed
first in the <em>gelex</em> description file is chosen.</p>

<p>Once the match is determined, the text corresponding to the
match (called the <em>token</em>) is made available through
function <font color="#008080" size="2" face="Courier New"><em>text</em></font>,
and its length through function <font color="#008080" size="2"
face="Courier New"><em>text_count</em></font> from class <font
color="#008080" size="2" face="Courier New"><em>YY_SCANNER</em></font>.
The action corresponding to the matched pattern is then executed
(a more detailed description of <a href="actions.html">actions</a>
follows), and then the remaining input is scanned for another
match.</p>

<p>If no match is found, then the <a name="default_rule"><strong>default
rule</strong></a> is executed: the next character in the input is
considered matched and copied to the standard output. Thus, the
simplest legal <em>gelex</em> input has an empty <a
href="description.html#rules">rules section</a>:</p>

<blockquote>
    <pre><font color="#0000FF"><tt>%{
</tt></font><font color="#008080"><em><strong><tt>class</tt></strong></em><tt> ...</tt></font><font
color="#0000FF"><tt>
%}
%%
%%</tt></font><tt>
    </tt><font color="#008080"><tt>...</tt></font></pre>
</blockquote>

<p>which generates a scanner that simply copies its input (one
character at a time) to its output.</p>
</body>
</html>
