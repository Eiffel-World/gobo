<?xml version="1.0"?> 

<!--
	description:
	
		"Creating an executable Stylesheet"

	library: "Gobo Eiffel XSLT Library"
	copyright: "Copyright (c) 2004, Colin Adams and others"
	license: "Eiffel Forum License v2 (see forum.txt)"
	date: "$Date$"
	revision: "$Revision$"
-->

<chapter xmlns="http://www.gobosoft.com/eiffel/gobo/documentation" id="xslt_stylesheet">
  <chapterinfo>
    <copyright>
      <year>2004</year>
      <holder>Colin Adams and others</holder>
    </copyright>
    <author>
      <firstname>Colin</firstname>
      <surname>Adams</surname>
    </author>
    <email>colin@colina.demon.co.uk</email>
    <date>Sunday, October 31st, 2004</date>
  </chapterinfo>
  <title>Creating an executable Stylesheet</title>
  <para>
    Once the XSLT processor is configured, you then need to create an executable version
    of your XSLT stylesheet or transform.
  </para>
  <section>
    <title>Creating a Stylesheet from an XML text file</title>
    <para>
      This section deals with the normal case, that is, you are starting with an XML
      text file whose document element is xsl:stylesheet or xsl:transform.
    </para>
    <para>
      Follow the following steps:
    </para>
    <orderedlist>
      <listitem>
	<para>
	  Create an <link linkend="transformation_source"><classname>XM_XSLT_URI_SOURCE</classname></link>, 
	  passing it the <exmlsyntax>SYSTEM</exmlsyntax> id of your text file, as an absolute URI.
	</para>
      </listitem>
      <listitem>
	<para>
	  Create an <classname>XM_XSLT_STYLESHEET_COMPILER</classname>, passing it the <classname>XM_XSLT_CONFIGURATION</classname>
	  you previously created.
	</para>
      </listitem>
      <listitem>
	<para>
	  Call <featurecall><featurename>prepare</featurename></featurecall>, passing the <classname>XM_XSLT_URI_SOURCE</classname>
	  as the sole argument.
	</para>
      </listitem>
      <listitem>
	<para>
	  Check for any errors from <featurename>prepare</featurename> by inspecting <featurename>load_stylesheet_module_failed</featurename>.
	  If this is <featurename>True</featurename>, then <featurename>load_stylesheet_module_error</featurename> contains the
	  reason why stylesheet compilation failed.
	</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Creating a Stylesheet from an <exmlsyntax>xml-stylesheet</exmlsyntax> processing instruction</title>
    <para>
      Not yet implemented.
    </para>
  </section>
</chapter>
